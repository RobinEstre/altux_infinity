<div class="row my-3">
    <div class="col-lg-3 col-md-3 col-sm-12" *ngFor="let valmodulo of modulos; let i = index">
        <div class="card" style="border: 1px solid rgb(147, 146, 146); border-radius:15px">
            <div class="container row">
                <div class="col-lg-12 col-md-12 col-sm-12 text-end">
                    <br *ngIf="i<=0">
                    <a href="javascript:void(0);" class="text-muted" (click)="deleteModule(i)" *ngIf="i>0">
                        x
                    </a>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 text-center">
                    <a href="javascript:void(0);" class="text-danger" (click)="openModal(valmodulo)" *ngIf="valmodulo.status==false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                        </svg>
                    </a>
                    <a href="javascript:void(0);" class="" (click)="openModal(valmodulo)" *ngIf="valmodulo.status==true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                        </svg>
                    </a>
                    <br>
                    {{valmodulo.nombre}}
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 text-end">
                    <br>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-3 col-sm-12">
        <div class="card" style="border: 1px solid rgb(147, 146, 146); border-radius:15px">
            <div class="container row">
                <div class="col-lg-12 col-md-12 col-sm-12 text-end">
                    <br>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 text-center">
                    <a href="javascript:void(0);" class="text-muted" (click)="newModulo()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-plus-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                        </svg>
                    </a>
                    <br>
                    Agregar Bloque
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 text-end">
                    <br>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Empieza modal control-->
<ng-template #diplo let-modal>
    <form [formGroup]="formModule" class="container-modal row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <br>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 text-center text-uppercase">
            <div role="alert">
                <div class="alert alert-primary nuevo">
                    <b>Módulo {{detalle.id+1}}</b>
                </div>
            </div>
            <hr>
        </div>
        <div class="col-lg-1 col-md-1 col-sm-12 mb-2">
            <b>Tema:</b>
        </div>
        <div class="col-lg-11 col-md-11 col-sm-12 mb-2">
            <div class="form-group">
                <input type="text" class="form-control bordes text-dark" formControlName="tema" placeholder="Nombre del Módulo">
            </div>
        </div>
        <div class="col-lg-1 col-md-1 col-sm-12 mb-2">
            <b>Temario:</b>
        </div>
        <div class="col-lg-11 col-md-11 col-sm-12 mb-2">
            <div class="form-group">
                <div class="input-group">             
                    <input type="text" class="form-control bordes text-dark" formControlName="temario" placeholder="Nombre del Tema">
                    <button (click)="addTemario()" class="btn btn-primary input-group-text bordes">
                        +
                    </button>
                </div>
            </div>
            <!-- <div class="form-group">
                <textarea name="temario" class="form-control bordes text-dark"
                    placeholder="" formControlName="temario" cols="30" rows="6">
                </textarea>
            </div> -->
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 mb-2">
            <hr *ngIf="temarios.length>0">
            <ol class="list-group list-group-numbered" *ngIf="temarios.length>0">
                <li class="list-group-item d-flex justify-content-between align-items-start" *ngFor="let item of temarios,let i= index">
                  <div class="ms-2 me-auto">
                    <div class="fw-bold">{{item}}</div>
                  </div>
                  <a class="text-danger" href="javascript:void(0);" (click)="deleteTemario(i)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                    </svg>
                  </a>
                </li>
            </ol>
            <hr>
        </div>
        <form class="col-lg-4 col-md-4 col-sm-12 mb-2 text-center" [formGroup]="formFechas">
            <div formArrayName="data" *ngFor="let employee of data().controls; let empIndex=index">
                <div [formGroupName]="empIndex" class="row">
                    <div class="text-center col-lg-2 col-md-2 col-sm-12 mb-2">
                        <b>{{empIndex+1}}°Clase</b>
                    </div>
                    <div class="col-lg-1 col-md-1 col-sm-12 mb-2"></div>
                    <div class="col-lg-8 col-md-8 col-sm-12 mb-2">
                        <div class="form-group">
                            <input class="form-control bordes text-dark" type="datetime-local" placeholder=""
                                formControlName="fecha_clase">
                        </div>
                    </div>
                    <div class="col-lg-1 col-md-1 col-sm-12 mb-2">
                        <a href="javascript:void(0);" class="text-muted" (click)="removeData(empIndex)" *ngIf="empIndex>0">
                            x
                        </a>
                    </div>
                </div>
            </div>
            <div class="d-grid gap-2">
                <button (click)="addFecha()" class="btn text-ligth" style="background: rgb(168, 167, 167);">+</button>
            </div>
        </form>
        <div class="col-lg-4 col-md-4 col-sm-12 mb-2"></div>
        <div class="col-lg-4 col-md-4 col-sm-12 mb-2 row" style="margin: 0% 0% 0% 0% !important;">
            <div class="col-lg-5 col-md-5 col-sm-12 mb-2">
                <b>Examen Final:</b>
            </div>
            <div class="col-lg-7 col-md-7 col-sm-12 mb-2">
                <div class="form-group">
                    <input class="form-control bordes text-dark" type="date" placeholder=""
                        formControlName="fecha_final">
                </div>
            </div>
            <div class="col-lg-5 col-md-5 col-sm-12 mb-2">
                <b>Examen Sust.:</b>
            </div>
            <div class="col-lg-7 col-md-7 col-sm-12 mb-2">
                <div class="form-group">
                    <input class="form-control bordes text-dark" type="date" placeholder=""
                        formControlName="fecha_sust">
                </div>
            </div>
            <div class="col-lg-5 col-md-5 col-sm-12 mb-2">
                <b>Docente:</b>
            </div>
            <div class="col-lg-7 col-md-7 col-sm-12 mb-2">
                <div class="form-group">
                    <ng-select formControlName="docente"
                                [items]="docente"
                                bindLabel='name'
                                bindValue='id'
                                placeholder="SELECC DOCENTE">
                    </ng-select>
                </div>
            </div>
        </div>
    </form>
    <div class="modal-footer">
        <button type="button" class="btn ripple btn-primary" *ngIf="temarios.length>0 && formFechas.valid==true" 
            [disabled]="!formModule.valid" (click)="finish()">
            Guardar
        </button>
        <button type="button" class="btn ripple btn-danger mx-3" (click)="closeModal()">Cerrar</button>
    </div>
</ng-template>
<!-- SPINNER -->
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "triangle-skew-spin">
</ngx-spinner>